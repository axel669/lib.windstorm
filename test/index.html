<!doctype html>
<html>
    <head>
        <title>Windstorm</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width">
    </head>
    <body ws-theme="tron">
        <!-- <script src="https://cdn.tailwindcss.com"></script> -->
        <ws-grid ws-x="w[300px] gr-col[1fr_1fr_1fr]">
            <button ws-x="@fill $color[warning]">Light</button>
            <button ws-x="@fill $color[primary]">Dark</button>
            <button ws-x="@fill $color[secondary]">Tron</button>
        </ws-grid>
        <script>
            for (const button of document.querySelectorAll("button")) {
                button.addEventListener(
                    "click",
                    (evt) => document.body.setAttribute(
                        "ws-theme",
                        evt.currentTarget.innerText.toLowerCase()
                    )
                )
            }
        </script>

        <span class="fa-solid fa-check"></span>

        <ws-flex ws-x="w[300px]">
            <label ws-x="@progress @outline $color[primary]">
                <div ws-x="$lbl-text">Progress</div>
                <!-- <progress value="0.1" ws-x="$color[primary]"></progress> -->
                <progress value="0.1"></progress>
            </label>
            <label ws-x="@progress $row $color[secondary]">
                <div ws-x="$lbl-text">Progress</div>
                <progress value="0.3"></progress>
            </label>
            <label ws-x="@progress $color[warning]">
                <div ws-x="$lbl-text">Progress</div>
                <progress value="0.2"></progress>
            </label>
        </ws-flex>

        <script type="module">
            import "./windstorm.mjs"
            import {
                createSignal,
                onCleanup,
                lazy,
            } from "https://cdn.skypack.dev/solid-js"
            import { render } from "https://cdn.skypack.dev/solid-js/web"
            import html from "https://cdn.skypack.dev/solid-js/html"

            window.html = html
            window.createSignal = createSignal

            const initial = location.hash.slice(1).trim()
            const first = await (async () => {
                try {
                    return await import(`./comp/${initial}.mjs`)
                }
                catch (err) {
                    return null
                }
            })()
            const App = () => {
                const [example, setExample] = createSignal(first.default)

                return html`
                    <div ws-x="grid[] gr-col[1fr_1fr] w[640px]">
                        <div ws-theme="tron">
                            <${example} />
                        </div>
                        <div ws-theme="dark">
                            <${example} />
                        </div>
                        <div ws-theme="light">
                            <${example} />
                        </div>
                    </div>
                `
            }
            render(App, document.body)
        </script>
    </body>
</html>
